<!DOCTYPE html>
<html lang="en">
<head>
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
        <title>Baltimore Murals</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<nav id="sidebar" class="col-l-2 col-m-3 col-s-4">
    <nav id="controls">
        <nav>Baltimore Murals Search:</nav><input id="places-search" type="search" placeholder="Name/Address Search" data-bind="textInput: query" onkeyup="markerUpdate()">
        <span>View: 
        <span data-bind="click: changeToAlbumView(false)">List</span>|
        <span data-bind="click: changeToAlbumView(true)">Album</span>
    </nav>
    <nav id="placesList">
        <nav data-bind="foreach: filtered()">
            <nav id="place" data-bind="visible: !$parent.albumView(), click: selectMural, css: { selected: viewModel.selectedMural() == $data.id }">
                <span data-bind='text: $data.artistfirstname'></span> 
                <span data-bind='text: $data.artistlastname'></span>, 
                <span data-bind='text: $data.year'></span>
            </nav>
            <nav id="thumbnail" data-bind="visible: $parent.albumView, click: selectMural, css: { selected: viewModel.selectedMural() == $data.id }">
                <img data-bind="attr:{src: 'https://data.baltimorecity.gov/views/zqh4-9ud5/files/' + $data.image.file_id}" width="100%"></img>
            </nav>
        </nav>
            <nav data-bind='text: $data.ajaxFail'></nav>
    </nav>
</nav>

<main id="map" class="col-l-10 col-m-9 col-s-8"></main>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="js/lib/knockout-3.4.2.js"></script>
<script src="js/app.js"></script>
<script async onerror="viewModel.ajaxFail('Failed to retrieve data via API')"
    src="https://maps.googleapis.com/maps/api/js?&key=AIzaSyCx71lyXw1WF_HmvorENMpOSUI1nn9irzI&v=3&callback=initMap">
</script>
</body>
</html>